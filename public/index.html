<!DOCTYPE html>
<html>
  <head>
    <title>Advent of Code 2025</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="container">
      <h1>Advent of Code 2025 Results</h1>
      <div class="result">
        <label for="daySelector" class="results-label"
          ><strong>Results</strong></label
        >
        <select id="daySelector" class="dropdown">
          <option value="">-- Select a Day --</option>
          <option value="1">Day 1</option>
          <option value="2">Day 2</option>
          <option value="3">Day 3</option>
          <option value="3.part2">Day 3 Part 2</option>
          <option value="4">Day 4</option>
          <option value="4.part2">Day 4 Part 2</option>
          <option value="5">Day 5</option>
          <option value="5.part2">Day 5 Part 2</option>
        </select>

        <p id="output"></p>

        <script>
          const selector = document.getElementById("daySelector");
          selector.addEventListener("change", async (event) => {
            const day = event.target.value;
            if (!day) return;
            try {
              const res = await fetch(`/api/day/${day}`);
              const data = await res.json();
              document.getElementById("output").textContent =
                data.result || data.error;
            } catch (err) {
              document.getElementById("output").textContent =
                "Error fetching result.";
              console.error(err);
            }
          });
        </script>
      </div>
    </div>
  </body>
</html>
